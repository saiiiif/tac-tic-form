<div class="col-sm-12" ng-hide="showSingleEstimate">
    <i class="fa fa-refresh fa-spin fa-5x"></i>
</div>

<div ng-show="showSingleEstimate">
    <div class="row">
        <div class="col-sm-12">
            <h3>{{ singleProject.name }}</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12 jumbotron">
            <p>Started: {{singleProject.created_at }}</p>
            <p>Status: {{singleProject.status }}</p>
            <p>Total: {{estimateTimes.total}}</p>
            <a href="#/projects/{{ singleProject.id }}" class="btn btn-primary">Back</a>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-4">
            <h4>Edit Estimate</h4>
            <form name="editEstimateForm" ng-submit="editEstiate(editEstimateForm)" novalidate>
                <div class="form-group"
                ng-class="{'has-error' : editEstimateForm.desc.$invalid && !editEstimateForm.desc.$pristine}">
                <input type="text" name="desc"
                id="desc" placeholder="Enter the description of the estimate"
                class="form-control" ng-model="singleEstimate.desc" required ng-minlength="3" />
            </div>

            <div class="form-group"
            ng-class="{'has-error' : editEstimateForm.hours_allocated.$invalid && !editEstimateForm.hours_allocated.$pristine}">
            <input type="number" name="hours_allocated"
            id="hours_allocated" placeholder="Enter allocated hours"
            class="form-control" tabindex="2" step="any" 
            ng-model="singleEstimate.hours_allocated" required />
        </div>

        <div class="form-group">
            <select ng-model="singleEstimate.status" class="form-control">
                <option value="Completed" {{ singleEstimate.status === 'Completed' ? 'selected' : '' }}>Completed</option>
                <option value="In progress" {{ singleEstimate.status === 'In progress' ? 'selected' : '' }}>In progress</option>
                <option value="Not Started" {{ singleEstimate.status === 'Not Started' ? 'selected' : '' }}>Not Started</option>
            </select>
        </div>

        <button class="btn btn-success">Save</button>
    </form>
</div>
<div class="col-sm-8">
    <h4>Time entries</h4>
    <!-- <pre>{{estimateTimes | json}}</pre> -->
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Desc</th>
                <th>Date</th>
                <th>Time</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="(key, estimateTime) in estimateTimes">
                <td>{{ estimateTime.name }}</td>
                <td>{{ estimateTime.desc }}</td>
                <td>{{ estimateTime.created_at }}</td>
                <td>{{ estimateTime.time }}</td>
            </tr>
        </tbody>
    </table>
</div>
</div>
</div>
